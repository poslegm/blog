---
layout: post
title: "StacktraceBuddy"
date: 2020-05-11 00:00:00
description: "Экспериментальная библиотека, улучшающая читаемость скаловых стектрейсов"
---

Наткнулся на гитхабе на экспериментальную библиотеку, улучшающую читаемость
скаловых стектрейсов

https://github.com/VirtusLab/stacktracebuddy

Стектрейсы у ошибок в скале перегружены нерелевантной информацией из байткода
jvm, поэтому докапываться в них до источника проблемы — то ещё удовольствие. А
эта библиотека вычищает всё лишнее и обогащает трейсы типами лямбд и именами
джарников.

Делается это забавным образом: джавовый стектрейс содержит имя файла и номер
строки кода. По этим данным ищется соответствующий
[TASTy](https://docs.scala-lang.org/scala3/guides/tasty-overview.html) файл,
сгенерированный компилятором, и из него извлекается скала-специфичная
информация.

К проду не готово, да и перфоманс не блещет (на каждый стектрейс читается
TASTy-файл), но концептуально красиво.
